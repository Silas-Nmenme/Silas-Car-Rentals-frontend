<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Available Cars - Silas Car Rentals</title>
  <meta name="description" content="Browse our premium fleet of cars available for rent in Lagos, Nigeria." />
  <link rel="stylesheet" href="cars.css" />
  <link rel="stylesheet" href="dropdown.css" />
  <meta name="theme-color" content="#0b0e11">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="header.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    :root {
      /* Light Theme Variables */
      --light-primary: #0d9488;
      --light-primary-700: #0f766e;
      --light-text: #374151;
      --light-muted: #6b7280;
      --light-border: #e5e7eb;
      --light-shadow: 0 4px 20px rgba(0,0,0,0.08);
      --light-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      --light-card-bg: #ffffff;
      --light-accent: #f59e0b;

      /* Dark Theme Variables */
      --dark-primary: #14b8a6;
      --dark-primary-700: #0d9488;
      --dark-text: #e5e7eb;
      --dark-muted: #9ca3af;
      --dark-border: #374151;
      --dark-shadow: 0 4px 20px rgba(0,0,0,0.3);
      --dark-bg: linear-gradient(135deg, #111827 0%, #1f2937 100%);
      --dark-card-bg: #1f2937;
      --dark-accent: #fbbf24;

      /* Common Variables */
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
      --elastic: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    /* Light theme */
    body[data-theme="light"] {
      background: var(--light-bg);
      min-height: 100vh;
      transition: var(--transition);
      color: var(--light-text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Dark theme */
    body[data-theme="dark"] {
      background: var(--dark-bg);
      min-height: 100vh;
      transition: var(--transition);
      color: var(--dark-text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

     /* Header Styles */
    .main-header {
      background: linear-gradient(135deg, var(--light-primary) 0%, var(--light-primary-700) 100%);
      padding: 1rem 0;
      box-shadow: var(--light-shadow);
      border-bottom: 3px solid rgba(13, 148, 136, 0.2);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      transition: var(--transition);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    body[data-bs-theme="dark"] .main-header {
      background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-primary-700) 100%);
      box-shadow: var(--dark-shadow);
      border-bottom: 3px solid rgba(20, 184, 166, 0.3);
    }

    .main-header.scrolled {
      box-shadow: 0 4px 30px rgba(0,0,0,0.15);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transform: translateY(0);
    }

    body[data-bs-theme="dark"] .main-header.scrolled {
      box-shadow: 0 4px 30px rgba(0,0,0,0.4);
    }

    .brand {
      color: white;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.5rem;
      transition: var(--transition);
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .brand:hover {
      transform: scale(1.05) rotate(1deg);
      text-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .nav-link {
      color: rgba(255,255,255,0.9) !important;
      font-weight: 600;
      transition: var(--transition);
      padding: 0.5rem 1rem !important;
      border-radius: 6px;
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.1);
      transition: left 0.3s ease;
    }

    .nav-link:hover::before,
    .nav-link.active::before {
      left: 0;
    }

    .nav-link:hover,
    .nav-link.active {
      color: white !important;
      transform: translateY(-2px);
    }

    /* Theme Toggle */
    .theme-toggle {
      background: rgba(255,255,255,0.1);
      border: 2px solid rgba(255,255,255,0.2);
      color: white;
      padding: 0.5rem;
      border-radius: 50%;
      cursor: pointer;
      transition: var(--transition);
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .theme-toggle::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transition: width 0.3s ease, height 0.3s ease;
      transform: translate(-50%, -50%);
    }

    .theme-toggle:hover::before {
      width: 100%;
      height: 100%;
    }

    .theme-toggle:hover {
      transform: scale(1.1) rotate(180deg);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }



    /* Cards */
    .card {
      background: var(--light-card-bg);
      border: 1px solid var(--light-border);
      box-shadow: var(--light-shadow);
      transition: var(--transition);
    }

    body[data-bs-theme="dark"] .card {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      box-shadow: var(--dark-shadow);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    body[data-bs-theme="dark"] .card:hover {
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    /* Buttons */
    .btn-success {
      background: linear-gradient(135deg, var(--light-primary) 0%, var(--light-primary-700) 100%);
      border: none;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(13, 148, 136, 0.3);
    }

    .btn-success:hover {
      background: linear-gradient(135deg, var(--light-primary-700) 0%, var(--light-primary) 100%);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(13, 148, 136, 0.4);
    }

    body[data-bs-theme="dark"] .btn-success {
      background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-primary-700) 100%);
      box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3);
    }

    body[data-bs-theme="dark"] .btn-success:hover {
      box-shadow: 0 8px 25px rgba(20, 184, 166, 0.4);
    }

    .btn-outline-success {
      border-color: var(--light-primary);
      color: var(--light-primary);
      transition: var(--transition);
    }

    .btn-outline-success:hover {
      background: var(--light-primary);
      border-color: var(--light-primary);
      color: white;
      transform: translateY(-2px);
    }

    body[data-bs-theme="dark"] .btn-outline-success {
      border-color: var(--dark-primary);
      color: var(--dark-primary);
    }

    body[data-bs-theme="dark"] .btn-outline-success:hover {
      background: var(--dark-primary);
      border-color: var(--dark-primary);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--light-primary) 0%, var(--light-primary-700) 100%);
      border: none;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(13, 148, 136, 0.3);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, var(--light-primary-700) 0%, var(--light-primary) 100%);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(13, 148, 136, 0.4);
    }

    body[data-bs-theme="dark"] .btn-primary {
      background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-primary-700) 100%);
      box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3);
    }

    body[data-bs-theme="dark"] .btn-primary:hover {
      box-shadow: 0 8px 25px rgba(20, 184, 166, 0.4);
    }

    /* Text colors */
    .text-success {
      color: var(--light-primary) !important;
    }

    body[data-bs-theme="dark"] .text-success {
      color: var(--dark-primary) !important;
    }

    .text-muted {
      color: var(--light-muted) !important;
    }

    body[data-bs-theme="dark"] .text-muted {
      color: var(--dark-muted) !important;
    }

    /* Background colors */
    .bg-success {
      background: var(--light-primary) !important;
    }

    body[data-bs-theme="dark"] .bg-success {
      background: var(--dark-primary) !important;
    }

    /* Badges */
    .badge.bg-success {
      background: var(--light-primary) !important;
    }

    body[data-bs-theme="dark"] .badge.bg-success {
      background: var(--dark-primary) !important;
    }

    /* Global mobile fixes */
    * {
      box-sizing: border-box;
    }

    html, body {
      overflow-x: hidden;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    .container, .container-fluid {
      width: 100%;
      max-width: 100%;
      padding-left: 15px;
      padding-right: 15px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Mobile responsiveness adjustments */
    @media (max-width: 768px) {
      /* Global mobile spacing and layout */
      .container {
        padding-left: 1rem;
        padding-right: 1rem;
        max-width: 100%;
      }

      /* Header/Navbar - Enhanced mobile navigation */
      .main-header {
        padding: 0.75rem 0;
        position: relative;
        z-index: 1050;
      }

      .navbar-brand {
        font-size: 1.25rem;
        flex: 1;
        text-align: center;
        margin: 0;
        padding: 0.5rem 0;
      }

      .navbar-toggler {
        border: none;
        padding: 0.5rem;
        background: rgba(255,255,255,0.1);
        border-radius: 6px;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .navbar-toggler:focus {
        box-shadow: 0 0 0 2px rgba(255,255,255,0.3);
      }

      .navbar .d-flex.align-items-center.gap-3 {
        gap: 0.5rem !important;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      .navbar .btn {
        padding: 0.375rem 0.5rem;
        font-size: 0.8rem;
        min-width: auto;
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .navbar .badge {
        font-size: 0.7rem;
        padding: 0.2em 0.4em;
        min-width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #nav-avatar {
        width: 36px !important;
        height: 36px !important;
        font-size: 0.9rem !important;
        min-width: 36px;
        min-height: 36px;
      }

      .dropdown-menu {
        min-width: 180px;
        font-size: 0.9rem;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        margin-top: 0.5rem;
      }

      .dropdown-item {
        padding: 0.75rem 1rem;
        min-height: 44px;
        display: flex;
        align-items: center;
      }

      /* Hero Section - Improved mobile layout */
      .hero-section {
        padding: 2rem 1rem;
        min-height: 50vh;
        text-align: center;
      }

      .hero-title {
        font-size: 2.2rem;
        line-height: 1.2;
        margin-bottom: 1rem;
        word-wrap: break-word;
      }

      .hero-subtitle {
        font-size: 1rem;
        line-height: 1.4;
        margin-bottom: 2rem;
        max-width: 100%;
      }

      .search-container {
        margin-top: 1.5rem;
        width: 100%;
      }

      .search-input {
        max-width: 100% !important;
        padding: 0.25rem 0.75rem;
        margin: 0 auto;
        display: flex;
        gap: 0.5rem;
      }

      .search-input input {
        font-size: 0.9rem;
        padding: 0.75rem;
        border-radius: 25px;
        flex: 1;
        min-height: 44px;
      }

      .search-input button {
        font-size: 0.9rem;
        padding: 0.75rem 1.5rem;
        border-radius: 25px;
        min-height: 44px;
        white-space: nowrap;
      }

      /* Filters - Enhanced mobile filters */
      .filters-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .filter-group {
        padding: 1.25rem;
        border-radius: 12px;
        background: var(--light-card-bg);
        border: 1px solid var(--light-border);
      }

      .filter-group label {
        font-size: 0.9rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
        display: block;
      }

      .filter-group select {
        font-size: 0.9rem;
        padding: 0.75rem;
        border-radius: 8px;
        width: 100%;
        min-height: 44px;
      }

      /* Sections - Better mobile spacing */
      .section-title {
        font-size: 2rem;
        margin-bottom: 1.5rem;
        text-align: center;
        word-wrap: break-word;
      }

      .services-section {
        padding: 3rem 0;
      }

      .about-section,
      .contact-section {
        padding: 3rem 0;
      }

      /* Car Cards - Enhanced mobile cards */
      .services-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .car-card {
        margin-bottom: 0;
        max-width: 100%;
        border-radius: 16px;
        overflow: hidden;
        background: var(--light-card-bg);
        border: 1px solid var(--light-border);
        box-shadow: var(--light-shadow);
      }

      .car-image {
        height: 220px;
        width: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
      }

      .car-details {
        padding: 1.25rem;
      }

      .car-name {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
        line-height: 1.3;
        word-wrap: break-word;
      }

      .car-details p {
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        line-height: 1.4;
      }

      .car-actions {
        flex-direction: column;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .car-actions .btn {
        flex: 1;
        font-size: 0.85rem;
        padding: 0.625rem;
        min-width: 0;
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
      }

      .car-actions .btn i {
        margin-right: 0.5rem;
      }

      /* About Section - Improved mobile layout */
      .about-content {
        grid-template-columns: 1fr;
        gap: 2rem;
        text-align: center;
      }

      .about-text p {
        font-size: 0.95rem;
        line-height: 1.6;
        text-align: left;
      }

      .about-stats {
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .stat-item {
        padding: 1.5rem 1rem;
        text-align: center;
        border-radius: 12px;
        min-height: 120px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .stat-item h3 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }

      .stat-item p {
        font-size: 0.9rem;
        margin: 0;
      }

      /* Contact Section - Enhanced mobile contact */
      .contact-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .contact-info {
        gap: 1.5rem;
      }

      .contact-item {
        padding: 1.25rem;
        flex-direction: row;
        align-items: flex-start;
        gap: 1rem;
        border-radius: 12px;
        min-height: 80px;
      }

      .contact-item i {
        font-size: 1.25rem;
        margin-top: 0.25rem;
        flex-shrink: 0;
        min-width: 24px;
        text-align: center;
      }

      .contact-item h4 {
        font-size: 1rem;
        margin-bottom: 0.25rem;
        flex: 1;
      }

      .contact-item p {
        font-size: 0.9rem;
        line-height: 1.4;
        margin: 0;
        flex: 1;
      }

      .contact-form {
        padding: 1.5rem;
        border-radius: 12px;
        background: var(--light-card-bg);
        border: 1px solid var(--light-border);
      }

      .form-group {
        margin-bottom: 1.25rem;
      }

      .form-group label {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
        display: block;
      }

      .form-group input,
      .form-group textarea {
        font-size: 0.9rem;
        padding: 0.875rem;
        border-radius: 8px;
        width: 100%;
        min-height: 44px;
        border: 2px solid var(--light-border);
      }

      .form-group textarea {
        min-height: 100px;
        resize: vertical;
      }

      .btn-submit {
        width: 100%;
        padding: 0.875rem;
        font-size: 1rem;
        min-height: 48px;
        border-radius: 8px;
        font-weight: 600;
      }

      /* Footer - Better mobile footer */
      .main-footer {
        padding: 3rem 0 2rem;
        text-align: center;
      }

      .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .footer-section h3 {
        font-size: 1.1rem;
        margin-bottom: 1rem;
      }

      .footer-section p,
      .footer-section li {
        font-size: 0.9rem;
        line-height: 1.5;
      }

      .footer-section ul {
        list-style: none;
        padding: 0;
        text-align: center;
      }

      .footer-section li {
        margin-bottom: 0.5rem;
      }

      /* Toast - Improved mobile toast */
      .toast {
        left: 1rem;
        right: 1rem;
        max-width: none;
        width: auto;
        border-radius: 8px;
        font-size: 0.9rem;
        padding: 1rem 1.25rem;
        min-height: 60px;
        display: flex;
        align-items: center;
      }

      /* Scroll to top - Better mobile positioning */
      .scroll-to-top {
        bottom: 1rem;
        right: 1rem;
        width: 48px;
        height: 48px;
        font-size: 1rem;
        border-radius: 50%;
        min-width: 48px;
        min-height: 48px;
      }

      /* Load More - Enhanced mobile button */
      .load-more-container {
        padding: 0 1rem;
        margin-top: 2rem;
      }

      .load-more-container .btn {
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
        padding: 0.875rem 2rem;
        font-size: 1rem;
        min-height: 48px;
        border-radius: 25px;
      }

      /* No cars state - Better mobile layout */
      .no-cars {
        text-align: center;
        padding: 4rem 2rem;
        border-radius: 12px;
        margin: 2rem 0;
      }

      .no-cars i {
        font-size: 4rem;
        margin-bottom: 1rem;
      }

      .no-cars h3 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }
    }

    @media (max-width: 576px) {
      /* Extra small screens */
      .container {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }

      .main-header {
        padding: 0.5rem 0;
      }

      .navbar-brand {
        font-size: 1.1rem;
      }

      .navbar .btn {
        padding: 0.25rem 0.375rem;
        font-size: 0.75rem;
      }

      .navbar .badge {
        font-size: 0.65rem;
        padding: 0.15em 0.3em;
      }

      #nav-avatar {
        width: 28px !important;
        height: 28px !important;
        font-size: 0.75rem !important;
      }

      .dropdown-menu {
        min-width: 140px;
        font-size: 0.85rem;
      }

      .hero-section {
        padding: 1.5rem 0.75rem;
        min-height: 45vh;
      }

      .hero-title {
        font-size: 1.8rem;
      }

      .hero-subtitle {
        font-size: 0.95rem;
      }

      .search-input {
        padding: 0.25rem 0.5rem;
      }

      .search-input input {
        font-size: 0.85rem;
        padding: 0.5rem 0.75rem;
      }

      .search-input button {
        font-size: 0.85rem;
        padding: 0.5rem 0.75rem;
      }

      .section-title {
        font-size: 1.75rem;
      }

      .services-section {
        padding: 2.5rem 0;
      }

      .about-section,
      .contact-section {
        padding: 2.5rem 0;
      }

      .car-image {
        height: 200px;
      }

      .car-name {
        font-size: 1.1rem;
      }

      .car-details p {
        font-size: 0.8rem;
      }

      .car-actions .btn {
        font-size: 0.75rem;
        padding: 0.4rem;
      }

      .about-stats {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .stat-item {
        padding: 1.25rem 0.75rem;
      }

      .stat-item h3 {
        font-size: 1.75rem;
      }

      .contact-item {
        padding: 0.75rem;
        gap: 0.75rem;
      }

      .contact-item i {
        font-size: 1.1rem;
      }

      .contact-item h4 {
        font-size: 0.9rem;
      }

      .contact-item p {
        font-size: 0.85rem;
      }

      .contact-form {
        padding: 1.25rem;
      }

      .main-footer {
        padding: 2.5rem 0 1.5rem;
      }

      .footer-section h3 {
        font-size: 1rem;
      }

      .footer-section p,
      .footer-section li {
        font-size: 0.85rem;
      }

      .toast {
        left: 0.75rem;
        right: 0.75rem;
      }

      .scroll-to-top {
        bottom: 0.75rem;
        right: 0.75rem;
        width: 40px;
        height: 40px;
        font-size: 0.9rem;
      }
    }

    @media (max-width: 480px) {
      /* Very small screens */
      .container {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }

      .main-header {
        padding: 0.375rem 0;
      }

      .navbar-brand {
        font-size: 1rem;
      }

      .navbar .btn {
        padding: 0.2rem 0.3rem;
        font-size: 0.7rem;
      }

      .navbar .badge {
        font-size: 0.6rem;
        padding: 0.1em 0.25em;
      }

      #nav-avatar {
        width: 24px !important;
        height: 24px !important;
        font-size: 0.7rem !important;
      }

      .dropdown-menu {
        min-width: 120px;
        font-size: 0.8rem;
      }

      .dropdown-item {
        padding: 0.375rem 0.75rem;
      }

      .hero-section {
        padding: 1.25rem 0.5rem;
        min-height: 40vh;
      }

      .hero-title {
        font-size: 1.6rem;
      }

      .hero-subtitle {
        font-size: 0.9rem;
      }

      .search-input {
        padding: 0.2rem 0.4rem;
      }

      .search-input input {
        font-size: 0.8rem;
        padding: 0.4rem 0.6rem;
      }

      .search-input button {
        font-size: 0.8rem;
        padding: 0.4rem 0.6rem;
      }

      .section-title {
        font-size: 1.5rem;
      }

      .services-section {
        padding: 2rem 0;
      }

      .about-section,
      .contact-section {
        padding: 2rem 0;
      }

      .car-image {
        height: 180px;
      }

      .car-name {
        font-size: 1rem;
      }

      .car-details p {
        font-size: 0.75rem;
      }

      .car-actions .btn {
        font-size: 0.7rem;
        padding: 0.35rem;
      }

      .stat-item {
        padding: 1rem 0.5rem;
      }

      .stat-item h3 {
        font-size: 1.5rem;
      }

      .stat-item p {
        font-size: 0.8rem;
      }

      .contact-item {
        padding: 0.6rem;
        gap: 0.6rem;
      }

      .contact-item i {
        font-size: 1rem;
      }

      .contact-item h4 {
        font-size: 0.85rem;
      }

      .contact-item p {
        font-size: 0.8rem;
      }

      .contact-form {
        padding: 1rem;
      }

      .form-group input,
      .form-group textarea {
        font-size: 0.85rem;
        padding: 0.6rem;
      }

      .btn-submit {
        padding: 0.6rem;
        font-size: 0.9rem;
      }

      .main-footer {
        padding: 2rem 0 1rem;
      }

      .footer-section h3 {
        font-size: 0.95rem;
      }

      .footer-section p,
      .footer-section li {
        font-size: 0.8rem;
      }

      .toast {
        left: 0.5rem;
        right: 0.5rem;
        font-size: 0.85rem;
      }

      .scroll-to-top {
        bottom: 0.5rem;
        right: 0.5rem;
        width: 38px;
        height: 38px;
        font-size: 0.8rem;
      }

      .load-more-container .btn {
        font-size: 0.9rem;
        padding: 0.6rem 1.2rem;
      }
    }







    /* About Section */
    .about-section {
      background: var(--light-card-bg);
      padding: 4rem 0;
      border: 1px solid var(--light-border);
      box-shadow: var(--light-shadow);
    }

    body[data-theme="dark"] .about-section {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      box-shadow: var(--dark-shadow);
    }

    .about-content {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 3rem;
      align-items: start;
    }

    .about-text p {
      margin-bottom: 1.5rem;
      line-height: 1.7;
      color: var(--light-text);
    }

    body[data-theme="dark"] .about-text p {
      color: var(--dark-text);
    }

    .about-stats {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    .stat-item {
      text-align: center;
      padding: 2rem;
      background: var(--light-card-bg);
      border-radius: 12px;
      box-shadow: var(--light-shadow);
      border: 1px solid var(--light-border);
      transition: var(--transition);
    }

    body[data-theme="dark"] .stat-item {
      background: var(--dark-card-bg);
      box-shadow: var(--dark-shadow);
      border-color: var(--dark-border);
    }

    .stat-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    body[data-theme="dark"] .stat-item:hover {
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .stat-item h3 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--light-primary);
      margin-bottom: 0.5rem;
    }

    body[data-theme="dark"] .stat-item h3 {
      color: var(--dark-primary);
    }

    .stat-item p {
      color: var(--light-muted);
      font-weight: 600;
      margin: 0;
    }

    body[data-theme="dark"] .stat-item p {
      color: var(--dark-muted);
    }

    /* Contact Section */
    .contact-section {
      background: var(--light-card-bg);
      padding: 4rem 0;
      border: 1px solid var(--light-border);
      box-shadow: var(--light-shadow);
    }

    body[data-theme="dark"] .contact-section {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      box-shadow: var(--dark-shadow);
    }

    .contact-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: start;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .contact-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.5rem;
      background: var(--light-card-bg);
      border-radius: 12px;
      box-shadow: var(--light-shadow);
      border: 1px solid var(--light-border);
      transition: var(--transition);
    }

    body[data-theme="dark"] .contact-item {
      background: var(--dark-card-bg);
      box-shadow: var(--dark-shadow);
      border-color: var(--dark-border);
    }

    .contact-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    body[data-theme="dark"] .contact-item:hover {
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }

    .contact-item i {
      font-size: 1.5rem;
      color: var(--light-primary);
      margin-top: 0.25rem;
    }

    body[data-theme="dark"] .contact-item i {
      color: var(--dark-primary);
    }

    .contact-item h4 {
      margin: 0 0 0.5rem 0;
      color: var(--light-text);
      font-size: 1.1rem;
      font-weight: 600;
    }

    body[data-theme="dark"] .contact-item h4 {
      color: var(--dark-text);
    }

    .contact-item p {
      margin: 0;
      color: var(--light-muted);
      line-height: 1.5;
    }

    body[data-theme="dark"] .contact-item p {
      color: var(--dark-muted);
    }

    .contact-form {
      background: var(--light-card-bg);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: var(--light-shadow);
      border: 1px solid var(--light-border);
    }

    body[data-theme="dark"] .contact-form {
      background: var(--dark-card-bg);
      box-shadow: var(--dark-shadow);
      border-color: var(--dark-border);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--light-border);
      border-radius: 8px;
      background: var(--light-card-bg);
      color: var(--light-text);
      font-size: 1rem;
      transition: var(--transition);
    }

    body[data-theme="dark"] .form-group input,
    body[data-theme="dark"] .form-group textarea {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      color: var(--dark-text);
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--light-primary);
      box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.1);
    }

    body[data-theme="dark"] .form-group input:focus,
    body[data-theme="dark"] .form-group textarea:focus {
      border-color: var(--dark-primary);
      box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    /* Section Titles */

    /* Hero Section Styles */
    .hero-section {
      position: relative;
      min-height: 60vh;
      display: flex;
      align-items: center;
      background: linear-gradient(135deg, var(--light-primary) 0%, var(--light-primary-700) 100%);
      overflow: hidden;
    }

    body[data-theme="dark"] .hero-section {
      background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-primary-700) 100%);
    }

    .hero-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
    }

    .floating-shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      animation: float 6s ease-in-out infinite;
    }

    .floating-shape:nth-child(1) {
      width: 80px;
      height: 80px;
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .floating-shape:nth-child(2) {
      width: 60px;
      height: 60px;
      top: 20%;
      right: 10%;
      animation-delay: 2s;
    }

    .floating-shape:nth-child(3) {
      width: 100px;
      height: 100px;
      bottom: 10%;
      left: 20%;
      animation-delay: 4s;
    }

    .floating-shape:nth-child(4) {
      width: 70px;
      height: 70px;
      bottom: 20%;
      right: 20%;
      animation-delay: 1s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: white;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 50vh;
    }

    .pill {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.3);
      letter-spacing: 0.5px;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      line-height: 1.1;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
      letter-spacing: -0.02em;
    }

    .hero-subtitle {
      font-size: 1.25rem;
      margin-bottom: 2.5rem;
      opacity: 0.9;
      line-height: 1.6;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      font-weight: 400;
    }

    .search-container {
      position: relative;
      z-index: 3;
      width: 100%;
      max-width: 500px;
    }

    /* Services Section */
    .services-section {
      padding: 5rem 0;
      background: var(--light-card-bg);
    }

    body[data-theme="dark"] .services-section {
      background: var(--dark-card-bg);
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--light-text);
      text-align: center;
      margin-bottom: 1rem;
    }

    body[data-theme="dark"] .section-title {
      color: var(--dark-text);
    }

    /* Car Cards */
    .car-card {
      background: var(--light-card-bg);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--light-shadow);
      transition: var(--transition);
      border: 1px solid var(--light-border);
      margin-bottom: 2rem;
    }

    body[data-theme="dark"] .car-card {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      box-shadow: var(--dark-shadow);
    }

    .car-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }

    body[data-theme="dark"] .car-card:hover {
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    .car-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: var(--transition);
    }

    .car-card:hover .car-image {
      transform: scale(1.05);
    }

    .car-details {
      padding: 1.5rem;
    }

    .car-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--light-text);
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    body[data-theme="dark"] .car-name {
      color: var(--dark-text);
    }

    .car-details p {
      margin-bottom: 0.5rem;
      color: var(--light-muted);
      font-size: 0.9rem;
    }

    body[data-theme="dark"] .car-details p {
      color: var(--dark-muted);
    }

    .car-details strong {
      color: var(--light-text);
      font-weight: 600;
    }

    body[data-theme="dark"] .car-details strong {
      color: var(--dark-text);
    }

    .car-actions {
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 1px solid var(--light-border);
    }

    body[data-theme="dark"] .car-actions {
      border-top-color: var(--dark-border);
    }

    /* Services Grid */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    /* Footer */
    .main-footer {
      background: linear-gradient(135deg, var(--light-primary) 0%, var(--light-primary-700) 100%);
      color: white;
      padding: 4rem 0 2rem;
      margin-top: 4rem;
    }

    body[data-theme="dark"] .main-footer {
      background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-primary-700) 100%);
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .footer-section h3 {
      color: white;
      margin-bottom: 1rem;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .footer-section p,
    .footer-section li {
      margin-bottom: 0.5rem;
      opacity: 0.9;
    }

    .footer-section a {
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-section a:hover {
      color: white;
      text-decoration: underline;
    }

    /* Toast Notifications */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--light-card-bg);
      border: 1px solid var(--light-border);
      border-radius: 8px;
      box-shadow: var(--light-shadow);
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      z-index: 9999;
      transform: translateX(400px);
      transition: transform 0.3s ease;
      max-width: 400px;
    }

    body[data-theme="dark"] .toast {
      background: var(--dark-card-bg);
      border-color: var(--dark-border);
      box-shadow: var(--dark-shadow);
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.hide {
      transform: translateX(400px);
    }

    .toast-icon {
      font-size: 1.25rem;
      flex-shrink: 0;
    }

    .toast-message {
      flex: 1;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .toast-close {
      background: none;
      border: none;
      font-size: 1.25rem;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.2s ease;
      padding: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .toast-close:hover {
      opacity: 1;
    }

    /* Scroll to Top Button */
    .scroll-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--light-primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .scroll-to-top.show {
      opacity: 1;
      visibility: visible;
    }

    .scroll-to-top:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    body[data-theme="dark"] .scroll-to-top {
      background: var(--dark-primary);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    body[data-theme="dark"] .scroll-to-top:hover {
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    }

    /* No Cars State */
    .no-cars {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--light-muted);
    }

    body[data-theme="dark"] .no-cars {
      color: var(--dark-muted);
    }

    .no-cars i {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .no-cars h3 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      color: var(--light-text);
    }

    body[data-theme="dark"] .no-cars h3 {
      color: var(--dark-text);
    }

    /* Loading Animation */
    @keyframes loading {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
  </style>
</head>
<body data-theme="dark">
  <!-- Header -->
  <header class="main-header">
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <!-- Sidebar toggle button for mobile -->
        <button class="btn btn-outline-success d-lg-none me-2" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu" aria-label="Open menu" title="Open menu">
          <i class="fas fa-bars"></i>
        </button>

        <a href="home.html" class="navbar-brand brand"><i class="fas fa-car me-2"></i>Silas Car Rentals</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" title="Toggle navigation" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="home.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="#cars-collection">Cars</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
          </ul>

          <div class="ms-auto d-flex align-items-center gap-3">
            <!-- Notifications -->
            <div class="dropdown">
              <button class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-label="Notifications" title="Notifications"><i class="fas fa-bell"></i></button>
              <ul class="dropdown-menu dropdown-menu-end" id="notifications">
                <li class="dropdown-header fw-bold">Notifications</li>
                <li><a class="dropdown-item" href="#">ðŸš— New BMW X5 added to fleet</a></li>
                <li><a class="dropdown-item" href="#">ðŸ”¥ 20% off luxury rentals this week</a></li>
                <li><a class="dropdown-item" href="#">âœ… Your booking was confirmed</a></li>
              </ul>
            </div>
            <!-- Counters -->
            <a href="cart.html" class="btn btn-outline-primary position-relative" aria-label="Cart">
              <i class="fas fa-shopping-cart"></i>
              <span id="cart-count" class="badge bg-success position-absolute top-0 start-100 translate-middle">0</span>
            </a>
            <a href="wishlist.html" class="btn btn-outline-danger position-relative" aria-label="Wishlist">
              <i class="fas fa-heart"></i>
              <span id="wishlist-count" class="badge bg-danger position-absolute top-0 start-100 translate-middle">0</span>
            </a>
            <a href="saved.html" class="btn btn-outline-warning position-relative" aria-label="Saved">
              <i class="fas fa-bookmark"></i>
              <span id="saved-count" class="badge bg-warning position-absolute top-0 start-100 translate-middle">0</span>
            </a>
            <!-- Theme -->
            <button class="theme-toggle ms-3" id="theme-toggle" aria-label="Toggle theme" title="Toggle theme">
              <i class="fas fa-moon" aria-hidden="true"></i>
              <span class="sr-only">Toggle theme</span>
            </button>
            <!-- Profile -->
            <div class="dropdown">
              <button class="btn btn-success dropdown-toggle d-flex align-items-center" data-bs-toggle="dropdown" aria-label="Profile menu" title="Profile menu">
                <div id="nav-avatar" class="rounded-circle me-2 d-flex align-items-center justify-content-center bg-success text-white fw-bold" style="width:32px; height:32px; font-size:0.9rem;"></div>
                <span id="user-name">User</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="profile.html"><i class="fas fa-user me-2"></i>Profile</a></li>
                <li><a class="dropdown-item" href="orders.html"><i class="fas fa-box me-2"></i>My Orders</a></li>
                <li><button class="dropdown-item text-danger" id="logout-button"><i class="fas fa-sign-out-alt me-2"></i>Logout</button></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero-section" id="home">
    <div class="hero-bg">
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
    </div>

    <div class="container d-flex justify-content-center">
      <div class="hero-content text-center">
        <span class="pill">Premium Fleet</span>
        <h1 class="hero-title">Discover Your Perfect Ride</h1>
        <p class="hero-subtitle">
          Explore our curated collection of luxury and standard vehicles for your next journey in Lagos
        </p>

        <!-- Search Bar -->
        <div class="search-container" style="margin-top: 2rem;">
          <div class="search-input" style="max-width: 500px; margin: 0 auto; background: rgba(255,255,255,0.95); border-radius: 50px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
            <i class="fas fa-search" style="color: var(--light-primary);"></i>
            <input type="text" placeholder="Search cars by make, model, or type..." id="search-input" style="border: none; background: transparent; flex: 1; outline: none; color: var(--light-text);">
            <button class="btn btn-primary" id="search-btn" style="border-radius: 25px; padding: 0.5rem 1.5rem; background: var(--light-primary); border: none;">Search</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filters Section -->
  <section class="services-section" id="filters">
    <div class="container">
      <div class="filters-header" style="text-align: center; margin-bottom: 2rem;">
        <h2 style="color: var(--light-text); margin-bottom: 1rem;">Filter & Sort</h2>
        <button class="btn btn-outline" id="clear-filters" style="border-color: var(--light-primary); color: var(--light-primary);">Clear All</button>
      </div>

      <div class="filters-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
        <div class="filter-group" style="background: var(--light-card-bg); padding: 1.5rem; border-radius: 12px; box-shadow: var(--light-shadow);">
          <label for="price-filter" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--light-text);">Price Range</label>
          <select id="price-filter" title="Filter by price range" style="width: 100%; padding: 0.75rem; border: 2px solid var(--light-border); border-radius: 8px; background: var(--light-card-bg); color: var(--light-text);">
            <option value="">All Prices</option>
            <option value="0-20000">Under â‚¦20,000</option>
            <option value="20000-40000">â‚¦20,000 - â‚¦40,000</option>
            <option value="40000-60000">â‚¦40,000 - â‚¦60,000</option>
            <option value="60000+">Over â‚¦60,000</option>
          </select>
        </div>

        <div class="filter-group" style="background: var(--light-card-bg); padding: 1.5rem; border-radius: 12px; box-shadow: var(--light-shadow);">
          <label for="type-filter" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--light-text);">Car Type</label>
          <select id="type-filter" title="Filter by car type" style="width: 100%; padding: 0.75rem; border: 2px solid var(--light-border); border-radius: 8px; background: var(--light-card-bg); color: var(--light-text);">
            <option value="">All Types</option>
            <option value="sedan">Sedan</option>
            <option value="suv">SUV</option>
            <option value="luxury">Luxury</option>
            <option value="sports">Sports</option>
          </select>
        </div>

        <div class="filter-group" style="background: var(--light-card-bg); padding: 1.5rem; border-radius: 12px; box-shadow: var(--light-shadow);">
          <label for="sort-filter" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--light-text);">Sort By</label>
          <select id="sort-filter" title="Sort cars by" style="width: 100%; padding: 0.75rem; border: 2px solid var(--light-border); border-radius: 8px; background: var(--light-card-bg); color: var(--light-text);">
            <option value="price-asc">Price: Low to High</option>
            <option value="price-desc">Price: High to Low</option>
            <option value="year-desc">Newest First</option>
            <option value="name-asc">Name: A-Z</option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- Cars Collection Section -->
  <section class="services-section" id="cars-collection">
    <div class="container">
      <h2 class="section-title">Available Cars</h2>
      <p class="text-center mb-5" style="color: var(--light-muted); font-size: 1.1rem; max-width: 600px; margin: 0 auto;">
        Choose from our carefully curated fleet of luxury and standard vehicles, all professionally maintained and ready for your journey.
      </p>
      <div id="car-count" class="car-count" style="text-align: center; margin-bottom: 2rem; color: var(--light-text); font-size: 1.1rem;">Loading available cars...</div>

      <div class="services-grid" id="cars-grid" aria-live="polite">
        <!-- Skeleton loaders will be shown here initially -->
        <div class="skeleton-card" style="background: var(--light-card-bg); border-radius: 16px; padding: 2rem; box-shadow: var(--light-shadow);">
          <div class="skeleton-media" style="height: 200px; background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 8px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 70%; height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 50%; height: 16px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 60%; height: 24px; background: #e0e0e0; border-radius: 4px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 100%; height: 40px; background: #e0e0e0; border-radius: 8px;"></div>
        </div>
        <div class="skeleton-card" style="background: var(--light-card-bg); border-radius: 16px; padding: 2rem; box-shadow: var(--light-shadow);">
          <div class="skeleton-media" style="height: 200px; background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 8px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 70%; height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 50%; height: 16px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 60%; height: 24px; background: #e0e0e0; border-radius: 4px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 100%; height: 40px; background: #e0e0e0; border-radius: 8px;"></div>
        </div>
        <div class="skeleton-card" style="background: var(--light-card-bg); border-radius: 16px; padding: 2rem; box-shadow: var(--light-shadow);">
          <div class="skeleton-media" style="height: 200px; background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 8px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 70%; height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 50%; height: 16px; background: #e0e0e0; border-radius: 4px; margin-bottom: 0.5rem;"></div>
          <div class="skeleton" style="width: 60%; height: 24px; background: #e0e0e0; border-radius: 4px; margin-bottom: 1rem;"></div>
          <div class="skeleton" style="width: 100%; height: 40px; background: #e0e0e0; border-radius: 8px;"></div>
        </div>
      </div>

      <!-- Load More Button -->
      <div class="load-more-container" style="text-align: center; margin-top: 3rem;">
        <button class="btn btn-outline" id="load-more" style="display: none; padding: 1rem 2rem; border-radius: 50px; border-color: var(--light-primary); color: var(--light-primary);">Load More Cars</button>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-section" id="about">
    <div class="container">
      <h2 class="section-title">About Silas Car Rentals</h2>
      <div class="about-content">
        <div class="about-text">
          <p>
            Welcome to Silas Car Rentals, Nigeria's premier car rental service dedicated to providing exceptional vehicles for business and leisure travel. Founded with a vision to make premium transportation accessible to everyone, we offer a carefully curated fleet of luxury and standard vehicles that combine comfort, reliability, and style.
          </p>
          <p>
            Our commitment to excellence extends beyond just providing cars â€“ we ensure every vehicle is professionally maintained, thoroughly inspected, and ready for your journey. Whether you're traveling for business meetings, family vacations, or special occasions, our diverse fleet caters to all your transportation needs.
          </p>
          <p>
            With locations across Lagos and a dedicated customer service team available 24/7, we strive to make your rental experience seamless and memorable. Choose Silas Car Rentals for the perfect blend of luxury, convenience, and peace of mind.
          </p>
        </div>
        <div class="about-stats">
          <div class="stat-item">
            <h3>500+</h3>
            <p>Happy Customers</p>
          </div>
          <div class="stat-item">
            <h3>100+</h3>
            <p>Luxury Vehicles</p>
          </div>
          <div class="stat-item">
            <h3>5+</h3>
            <p>Years Experience</p>
          </div>
          <div class="stat-item">
            <h3>24/7</h3>
            <p>Customer Support</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact-section" id="contact">
    <div class="container">
      <h2 class="section-title">Contact Us</h2>
      <div class="contact-content">
        <div class="contact-info">
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <div>
              <h4>Phone</h4>
              <p>+234 810 758 6167</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <div>
              <h4>Email</h4>
              <p>silasonyekachi15@gmail.com</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <h4>Location</h4>
              <p>Lagos, Nigeria</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-clock"></i>
            <div>
              <h4>Business Hours</h4>
              <p>Mon - Sun: 24/7 Available</p>
            </div>
          </div>
        </div>
    <div class="contact-form">
      <form class="contact-form">
        <div class="form-group">
          <label for="fullName">Full Name</label>
          <input type="text" id="fullName" name="fullName" required>
        </div>

        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone" required>
        </div>

        <div class="form-group">
          <label for="message">Message</label>
          <textarea id="message" name="message" rows="5" required></textarea>
        </div>

        <button type="submit" class="btn-submit" title="Send your message">
          <i class="fas fa-paper-plane me-2"></i>
          Send Message
        </button>
      </form>
    </div>
  </div>
</section>

  <!-- Footer -->
  <footer class="main-footer" id="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3><i class="fas fa-car me-2"></i>Silas Car Rentals</h3>
          <p>
            Nigeria's premier car rental service offering luxury vehicles for business and leisure travel.
            Experience comfort, reliability, and exceptional service.
          </p>
        </div>

        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 0.5rem;"><a href="home.html">Home</a></li>
            <li style="margin-bottom: 0.5rem;"><a href="about.html">About Us</a></li>
            <li style="margin-bottom: 0.5rem;"><a href="contact.html">Contact</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Contact Info</h3>
          <p><i class="fas fa-phone me-2"></i>+234 810 758 6167</p>
          <p><i class="fas fa-envelope me-2"></i>silasonyekachi15@gmail.com</p>
          <p><i class="fas fa-map-marker-alt me-2"></i>Lagos, Nigeria</p>
        </div>

        <div class="footer-section">
          <h3>Support</h3>
          <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 0.5rem;"><a href="faq.html">FAQ</a></li>
            <li style="margin-bottom: 0.5rem;"><a href="contact.html">Contact</a></li>
            <li style="margin-bottom: 0.5rem;"><a href="terms.html">Terms of Service</a></li>
            <li style="margin-bottom: 0.5rem;"><a href="privacy.html">Privacy Policy</a></li>
          </ul>
        </div>
      </div>

      <div style="text-align: center; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1);">
        <p>&copy; <span id="year"></span> Silas Car Rentals. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Toast Notification -->
  <div class="toast" id="toast" role="status" aria-live="polite">
    <i class="fas fa-info-circle toast-icon"></i>
    <span class="toast-message"></span>
    <button class="toast-close" onclick="hideToast()">&times;</button>
  </div>

  <!-- Scroll to top button -->
  <button id="scroll-to-top" class="scroll-to-top" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  <script src="count-updates.js"></script>
  <script src="cart-fix.js"></script>

  <script>
    // Theme toggle functionality
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;

    // Check for saved theme preference or default to dark mode
    const currentTheme = localStorage.getItem('theme') || 'dark';
    body.setAttribute('data-theme', currentTheme);

    // Update theme toggle icon based on current theme
    function updateThemeIcon() {
      const icon = themeToggle.querySelector('i');
      if (body.getAttribute('data-theme') === 'dark') {
        icon.className = 'fas fa-sun';
      } else {
        icon.className = 'fas fa-moon';
      }
    }

    updateThemeIcon();

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const currentTheme = body.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

      body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon();
    });

    // Header scroll effect
    const header = document.querySelector('.main-header');
    let lastScrollTop = 0;

    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop > 100) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }

      lastScrollTop = scrollTop;
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Bootstrap navbar collapse on mobile
    const navbarCollapse = document.querySelector('.navbar-collapse');
    const navbarToggler = document.querySelector('.navbar-toggler');

    document.querySelectorAll('.navbar-nav .nav-link').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth < 992) {
          const bsCollapse = new bootstrap.Collapse(navbarCollapse, {
            hide: true
          });
        }
      });
    });

    // API and data handling
    window.API_BASE = "https://techyjaunt-auth-go43.onrender.com";
    const placeholderImage = "https://vehicle-images.dealerinspire.com/a1a7-11002896/W1KAF4GB4SR252999/00f2d6ad30e089cb5c02791d58c3af6a.jpg";

    // Sample car data for offline/fallback use
    const sampleCars = [
      {
        _id: "1",
        make: "Mercedes-Benz",
        model: "C300",
        year: 2025,
        price: 40000,
        color: "Black",
        brand: "Mercedes-Benz",
        type: "luxury",
        description: "Brand new luxury sedan with premium features",
        image: placeholderImage
      },
      {
        _id: "2",
        make: "Toyota",
        model: "Camry",
        year: 2024,
        price: 25000,
        color: "White",
        brand: "Toyota",
        type: "sedan",
        description: "Reliable and fuel-efficient sedan",
        image: "https://images.unsplash.com/photo-1549399812-5e82e1517600?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
      },
      {
        _id: "3",
        make: "Honda",
        model: "CR-V",
        year: 2024,
        price: 35000,
        color: "Blue",
        brand: "Honda",
        type: "suv",
        description: "Spacious and versatile SUV for family trips",
        image: "https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
      },
      {
        _id: "4",
        make: "BMW",
        model: "X5",
        year: 2024,
        price: 55000,
        color: "Gray",
        brand: "BMW",
        type: "suv",
        description: "Luxury SUV with advanced technology",
        image: "https://images.unsplash.com/photo-1555215274-0766a9e744c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
      },
      {
        _id: "5",
        make: "Audi",
        model: "A4",
        year: 2024,
        price: 38000,
        color: "Red",
        brand: "Audi",
        type: "sedan",
        description: "Premium sedan with quattro all-wheel drive",
        image: "https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
      },
      {
        _id: "6",
        make: "Ford",
        model: "Mustang",
        year: 2024,
        price: 45000,
        color: "Yellow",
        brand: "Ford",
        type: "sports",
        description: "Iconic American sports car",
        image: "https://images.unsplash.com/photo-1542362567-b07e54358753?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
      }
    ];

    let allCars = [];
    let filteredCars = [];
    let currentPage = 1;
    const carsPerPage = 6;

    function showToast(msg, type = 'info', ms = 3000) {
      const toast = document.getElementById("toast");

      // Clear previous classes
      toast.className = 'toast';

      // Add type class
      toast.classList.add(`toast-${type}`);

      // Icon mapping
      const iconMap = {
        success: 'fas fa-check-circle',
        error: 'fas fa-exclamation-circle',
        warning: 'fas fa-exclamation-triangle',
        info: 'fas fa-info-circle'
      };

      // Set content
      toast.innerHTML = `
        <i class="${iconMap[type]} toast-icon"></i>
        <span class="toast-message">${msg}</span>
        <button class="toast-close" onclick="hideToast()">&times;</button>
      `;

      // Show toast
      toast.classList.add("show");

      // Auto hide
      setTimeout(() => hideToast(), ms);
    }

    function hideToast() {
      const toast = document.getElementById("toast");
      toast.classList.remove("show");
      toast.classList.add("hide");
      setTimeout(() => {
        toast.classList.remove("hide");
      }, 400); // Match transition duration
    }

    function renderCars(cars) {
      const grid = document.getElementById("cars-grid");
      const count = document.getElementById("car-count");

      if (cars.length === 0) {
        grid.innerHTML = `
          <div class="no-cars">
            <i class="fas fa-car"></i>
            <h3>No cars found</h3>
            <p>Try adjusting your search or filter criteria.</p>
          </div>
        `;
        count.textContent = "No cars available";
        return;
      }

      count.textContent = `${cars.length} car${cars.length !== 1 ? 's' : ''} available`;

  grid.innerHTML = cars.map(car => {
    return `
          <div class="car-card" data-id="${car._id}">
            <img src="${car.image || placeholderImage}" alt="${car.make} ${car.model}" class="car-image" loading="lazy">
            <div class="car-details">
              <h2 class="car-name">${car.make} ${car.model}</h2>
              <p><strong>ID:</strong> ${car._id}</p>
              <p><strong>Year:</strong> ${car.year}</p>
              <p><strong>Price:</strong> â‚¦${car.price.toLocaleString()}/day</p>
              <p><strong>Color:</strong> ${car.color}</p>
              <p><strong>Brand:</strong> ${car.brand}</p>
              <p><strong>Type:</strong> ${car.type}</p>
          <p><strong>Description:</strong> ${car.description}</p>
          <div class="car-actions d-flex justify-content-between mt-3">
                <button class="btn btn-primary btn-sm" data-action="add-cart" data-id="${car._id}" title="Add to Cart">
                  <i class="fas fa-cart-plus me-1"></i>Add to Cart
                </button>
                <button class="btn btn-danger btn-sm" data-action="add-wishlist" data-id="${car._id}" title="Add to Wishlist">
                  <i class="fas fa-heart me-1"></i>Wishlist
                </button>
                <button class="btn btn-success btn-sm" data-action="add-saved" data-id="${car._id}" title="Save Car">
                  <i class="fas fa-bookmark me-1"></i>Save
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    function applyFilters() {
      const searchTerm = document.getElementById("search-input").value.toLowerCase();
      const priceFilter = document.getElementById("price-filter").value;
      const typeFilter = document.getElementById("type-filter").value;
      const sortFilter = document.getElementById("sort-filter").value;

      filteredCars = allCars.filter(car => {
        // Search filter
        const matchesSearch = car.make.toLowerCase().includes(searchTerm) ||
                             car.model.toLowerCase().includes(searchTerm) ||
                             car.type.toLowerCase().includes(searchTerm);

        // Price filter
        let matchesPrice = true;
        if (priceFilter) {
          if (priceFilter === "0-20000") {
            matchesPrice = car.price <= 20000;
          } else if (priceFilter === "20000-40000") {
            matchesPrice = car.price > 20000 && car.price <= 40000;
          } else if (priceFilter === "40000-60000") {
            matchesPrice = car.price > 40000 && car.price <= 60000;
          } else if (priceFilter === "60000+") {
            matchesPrice = car.price > 60000;
          }
        }

        // Type filter
        const matchesType = !typeFilter || car.type === typeFilter;

        return matchesSearch && matchesPrice && matchesType;
      });

      // Sort cars
      filteredCars.sort((a, b) => {
        switch (sortFilter) {
          case "price-asc":
            return a.price - b.price;
          case "price-desc":
            return b.price - a.price;
          case "year-desc":
            return b.year - a.year;
          case "name-asc":
            return a.make.localeCompare(b.make);
          default:
            return 0;
        }
      });

      renderCars(filteredCars);
      updateLoadMoreButton();
    }

    function updateLoadMoreButton() {
      const loadMoreBtn = document.getElementById("load-more");
      const totalPages = Math.ceil(filteredCars.length / carsPerPage);

      if (currentPage < totalPages) {
        loadMoreBtn.style.display = "block";
      } else {
        loadMoreBtn.style.display = "none";
      }
    }

    function loadMoreCars() {
      currentPage++;
      const startIndex = (currentPage - 1) * carsPerPage;
      const endIndex = startIndex + carsPerPage;
      const carsToShow = filteredCars.slice(0, endIndex);

      renderCars(carsToShow);
      updateLoadMoreButton();
    }

    async function fetchCars() {
      // Show skeleton loaders
      document.getElementById("car-count").textContent = "Loading available cars...";

      try {
        const res = await fetch(`${API_BASE}/api/cars/get-cars`);
        if (!res.ok) throw new Error("Failed to fetch cars");
        const data = await res.json();
        const cars = data.cars || [];

        // Process car images and ensure all fields are properly handled
        allCars = cars.map(car => ({
          ...car,
          image: car.image && car.image.trim() !== "" ? car.image : placeholderImage,
          // Ensure all required fields have defaults
          _id: car._id || '',
          make: car.make || 'Unknown',
          model: car.model || 'Unknown',
          year: car.year || new Date().getFullYear(),
          price: car.price || 0,
          color: car.color || 'Unknown',
          brand: car.brand || 'Unknown',
          type: car.type || 'sedan',
          description: car.description || 'No description available',
        }));

        filteredCars = [...allCars];
        applyFilters();

      } catch (err) {
        console.warn("Using offline car data - backend unreachable", err);
        // Use sample cars as fallback
        allCars = sampleCars;
        filteredCars = [...allCars];
        applyFilters();
      }
    }

    fetchCars();

    // Add event listeners for car action buttons using event delegation
    document.addEventListener('click', (e) => {
      const action = e.target.dataset.action;
      const carId = e.target.dataset.id;

      if (!action || !carId) return;

      // Find the car in our local data (allCars or filteredCars)
      const car = allCars.find(c => c._id === carId) || filteredCars.find(c => c._id === carId);

      if (!car) {
        console.error("Car not found:", carId);
        showToast("Car not found", "error");
        return;
      }

      console.log("Button clicked:", action, "Car ID:", carId);
      console.log("Car details:", car);

      switch (action) {
        case 'add-cart':
          addToCart(car);
          break;

        case 'add-wishlist':
          addToWishlist(car);
          break;

        case 'add-saved':
          addToSaved(car);
          break;
      }
    });

    // Helper function to enhance car data
    function enhanceCarData(car) {
      return {
        _id: car._id,
        make: car.make || 'Unknown',
        model: car.model || 'Unknown',
        year: car.year || new Date().getFullYear(),
        price: car.price || 0,
        image: car.image || 'https://via.placeholder.com/300',
        color: car.color || 'Black',
        description: car.description || 'No description available',
        brand: car.brand || car.make || 'Unknown'
      };
    }

    // Helper function to update counts and sync changes
    function updateCountsAndSync(storageKey) {
      if (window.CountManager && window.CountManager.updateCounts) {
        window.CountManager.updateCounts();
      }
      if (window.CountManager && window.CountManager.syncLocalChanges) {
        window.CountManager.syncLocalChanges(storageKey);
      }
    }

    // Helper functions for cart, wishlist, and saved cars
    function addToCart(car) {
      console.log("Attempting to add to cart:", car); // Debug log
      if (CartManager.add(car)) {
        showToast("Added to cart", "success");
        console.log("Car added to cart:", car); // Debug log
      } else {
        showToast("Car already in cart", "warning");
        console.log("Car already in cart:", car); // Debug log
      }
    }

    function addToWishlist(car) {
      console.log("Attempting to add to wishlist:", car); // Debug log
      const wishlist = getStorage("wishlist");
      if (wishlist.find((c) => c._id === car._id)) {
        showToast("Car already in wishlist", "warning");
        console.log("Car already in wishlist:", car); // Debug log
        return;
      }
      const enhancedCar = enhanceCarData(car);
      wishlist.push(enhancedCar);
      localStorage.setItem("wishlist", JSON.stringify(wishlist));
      updateCountsAndSync('wishlist');
      showToast("Added to wishlist", "success");
      console.log("Car added to wishlist:", car); // Debug log
    }

    function addToSaved(car) {
      console.log("Attempting to save car:", car); // Debug log
      const savedCars = getStorage("savedCars");
      if (savedCars.find((c) => c._id === car._id)) {
        showToast("Car already saved", "warning");
        console.log("Car already saved:", car); // Debug log
        return;
      }
      const enhancedCar = enhanceCarData(car);
      savedCars.push(enhancedCar);
      localStorage.setItem("savedCars", JSON.stringify(savedCars));
      updateCountsAndSync('savedCars');
      showToast("Car saved", "success");
      console.log("Car saved:", car); // Debug log
    }

    // Scroll to top functionality
    const scrollToTopBtn = document.getElementById('scroll-to-top');

    function getStorage(key) {
      try {
        const item = localStorage.getItem(key);
        return item ? JSON.parse(item) : [];
      } catch (e) {
        console.error("Error parsing localStorage for", key, e);
        return [];
      }
    }

    // Show/hide scroll button based on scroll position
    window.addEventListener('scroll', () => {
      const scrollHeight = document.documentElement.scrollHeight;
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const clientHeight = document.documentElement.clientHeight;

      // Show button when scrolled near the bottom (within 200px of bottom)
      const isNearBottom = scrollTop + clientHeight >= scrollHeight - 200;

      if (isNearBottom && scrollTop > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }
    });

    // Scroll to top when button is clicked
    scrollToTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Add event listeners for filter functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Filter event listeners
      document.getElementById("search-input").addEventListener('input', applyFilters);
      document.getElementById("price-filter").addEventListener('change', applyFilters);
      document.getElementById("type-filter").addEventListener('change', applyFilters);
      document.getElementById("sort-filter").addEventListener('change', applyFilters);

      // Search button
      document.getElementById("search-btn").addEventListener('click', applyFilters);

      // Clear filters
      document.getElementById("clear-filters").addEventListener('click', function() {
        document.getElementById("search-input").value = "";
        document.getElementById("price-filter").value = "";
        document.getElementById("type-filter").value = "";
        document.getElementById("sort-filter").value = "price-asc";
        applyFilters();
      });

      // Load more button
      document.getElementById("load-more").addEventListener('click', loadMoreCars);
    });

    // Initialize counts on page load
    document.addEventListener('DOMContentLoaded', function() {
      if (window.CountManager && window.CountManager.updateCounts) {
        window.CountManager.updateCounts();
      }
    });

    // Set current year in footer
    document.addEventListener('DOMContentLoaded', function() {
      const yearElement = document.getElementById('year');
      if (yearElement) {
        yearElement.textContent = new Date().getFullYear();
      }
    });

    // Render user profile
    function renderUserProfile() {
      const user = JSON.parse(localStorage.getItem("user"));
      if (!user) return;

      // Update profile name (for profile page)
      const profileName = document.getElementById("profile-name");
      if (profileName) {
        profileName.textContent = user.name;
      }

      // Update header user name
      const userName = document.getElementById("user-name");
      if (userName) {
        userName.textContent = user.name;
      }

      // Update profile avatar (for profile page)
      const profileAvatar = document.getElementById("profile-avatar");
      if (profileAvatar) {
        profileAvatar.innerHTML = "";
        if (user.profilePicture?.url) {
          profileAvatar.innerHTML = `<img src="${user.profilePicture.url}" alt="${user.name}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;">`;
        } else {
          const initials = user.name.split(" ").map(n => n[0]).join("").substring(0, 2).toUpperCase();
          profileAvatar.textContent = initials;
        }
      }

      // Update header nav avatar
      const navAvatar = document.getElementById("nav-avatar");
      if (navAvatar) {
        navAvatar.innerHTML = "";
        if (user.profilePicture?.url) {
          navAvatar.innerHTML = `<img src="${user.profilePicture.url}" alt="${user.name}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;">`;
        } else {
          const initials = user.name.split(" ").map(n => n[0]).join("").substring(0, 2).toUpperCase();
          navAvatar.textContent = initials;
        }
      }
    }

    // Load user profile and render
    async function loadUserProfile() {
      const token = localStorage.getItem("token");
      if (!token) return;

      try {
        const res = await fetch(`${API_BASE}/api/users/profile`, {
          headers: { Authorization: `Bearer ${token}` },
          credentials: "include"
        });

        if (res.status === 401) {
          localStorage.clear();
          return;
        }

        const data = await res.json();
        if (!res.ok) return;

        const user = data.user;
        localStorage.setItem("user", JSON.stringify(user));

        renderUserProfile();
      } catch (err) {
        console.error("Failed to load user profile:", err);
      }
    }

    // Load user profile on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadUserProfile();
    });

    // Logout functionality
    document.getElementById('logout-button').addEventListener('click', function() {
      localStorage.removeItem('user');
      localStorage.removeItem('token');
      showToast('Logged out successfully', 'success');
      setTimeout(() => {
        window.location.href = 'login.html';
      }, 1000);
    });

    // Back button handling
    window.addEventListener('load', () => {
      history.pushState(null, null, location.href);
    });

    window.addEventListener('popstate', () => {
      window.location.href = 'index.html';
    });
  </script>

  <script>
    // Contact form handling
    function initContactForm() {
      const form = document.querySelector('form.contact-form');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const formDataObj = Object.fromEntries(formData);

        // Map form field names to API expected field names
        const data = {
          fullName: formDataObj.fullName,
          email: formDataObj.email,
          phoneNumber: formDataObj.phone,
          message: formDataObj.message
        };

        // Show loading state
        const submitBtn = form.querySelector('.btn-submit');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
        submitBtn.disabled = true;

        try {
          const res = await fetch("https://techyjaunt-auth-go43.onrender.com/api/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
          });

          let result;
          try {
            result = await res.json();
          } catch (e) {
            result = { success: false, message: "Server error" };
          }

          if (res.ok && result.success) {
            showToast("Message sent successfully! We'll get back to you soon.");
            form.reset();
          } else {
            showToast(`${result.message || "Failed to send message. Please try again."}`);
          }
        } catch (error) {
          console.error("Contact form error:", error);
          showToast("Network error. Please try again later.");
        } finally {
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;
        }
      });
    }

    // Initialize contact form on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', () => {
      initContactForm();
    });
  </script>
</body>
</html>