<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Cart - Silas Car Rentals</title>
  <link rel="stylesheet" href="style.css" />
  <script src="cart-fix.js"></script>
</head>
<body>
<header class="navbar">
  <div class="container nav-inner">
    <a href="index.html" class="brand">
      <div class="brand-mark">SC</div>
      <span class="brand-name">Silas Car Rentals</span>
    </a>
    <nav class="nav-links">
      <a class="nav-link" href="index.html#browse">Browse</a>
      <a class="nav-link" href="book.html">Book</a>
    </nav>
    <div class="nav-actions">
      <button class="btn btn-ghost" onclick="location.href='cart.html'">üßæ Cart (<span id="cart-count">0</span>)</button>
      <button class="btn btn-ghost" onclick="location.href='wishlist.html'">‚ù§Ô∏è Wishlist (<span id="wishlist-count">0</span>)</button>
      <button class="btn btn-ghost" onclick="location.href='saved.html'">üíæ Saved (<span id="saved-count">0</span>)</button>
    </div>
  </div>
</header>

<main class="section container">
  <h1>My Booking Cart</h1>
  <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap;">
    <button class="btn btn-outline" onclick="CartManager.clear()">Clear Cart</button>
    <button class="btn" onclick="window.location.href='cars.html'">Continue Shopping</button>
  </div>
  <div id="cart-items" class="grid" style="gap:20px; margin-top:20px;"></div>
  
  <!-- Cart Summary -->
  <div id="cart-summary" style="margin-top: 2rem; padding: 1.5rem; background: #1f1f1f; border-radius: 8px; display: none;">
    <h3>Cart Summary</h3>
    <div style="display: flex; justify-content: space-between; align-items: center; margin: 1rem 0;">
      <span>Total Items:</span>
      <span id="cart-total-items">0</span>
    </div>
    <div style="display: flex; justify-content: space-between; align-items: center; margin: 1rem 0;">
      <span>Estimated Total:</span>
      <span id="cart-total-price">‚Ç¶0</span>
    </div>
    <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="window.location.href='checkout.html'">
      Proceed to Checkout
    </button>
  </div>
</main>

<div class="toast" id="toast"></div>

<script>
// Enhanced cart page functionality
document.addEventListener('DOMContentLoaded', function() {
    // Update cart summary
    function updateCartSummary() {
        const cart = CartManager.getItems();
        const summary = document.getElementById('cart-summary');
        const totalItems = document.getElementById('cart-total-items');
        const totalPrice = document.getElementById('cart-total-price');
        
        if (cart.length > 0) {
            summary.style.display = 'block';
            totalItems.textContent = cart.length;
            
            const total = cart.reduce((sum, car) => sum + (car.price || 0), 0);
            totalPrice.textContent = `‚Ç¶${total.toLocaleString()}`;
        } else {
            summary.style.display = 'none';
        }
    }
    
    // Override renderCart for cart page
    window.renderCart = function() {
        const cart = CartManager.getItems();
        const container = document.getElementById('cart-items');
        
        if (!cart.length) {
            container.innerHTML = `
                <div style="text-align: center; padding: 3rem;">
                    <h3>Your cart is empty</h3>
                    <p style="margin: 1rem 0; color: var(--muted);">Start adding cars to your cart to see them here.</p>
